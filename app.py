import streamlit as st
import openai
import PyPDF2

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
st.set_page_config(page_title="JurisClear AI", page_icon="‚öñÔ∏è", layout="centered")

# –°–∫—Ä—ã–≤–∞–µ–º API –∫–ª—é—á –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö (Secrets) –∏–ª–∏ –±–µ—Ä–µ–º –∏–∑ –≤–≤–æ–¥–∞ –¥–ª—è —Ç–µ—Å—Ç–∞
# –ö–æ–≥–¥–∞ –ø–æ–ø–æ–ª–Ω–∏—à—å –±–∞–ª–∞–Ω—Å, –º—ã —É–¥–∞–ª–∏–º st.sidebar.text_input –∏ –ø—Ä–æ–ø–∏—à–µ–º –∫–ª—é—á –≤ –æ–±–ª–∞–∫–µ
if 'api_key' not in st.secrets:
    user_api_key = st.sidebar.text_input("–ù–∞—Å—Ç—Ä–æ–π–∫–∞ (—Å–∫—Ä—ã—Ç–æ –¥–ª—è –ø—Ä–æ—Ñ–∏): API Key", type="password")
else:
    user_api_key = st.secrets["OPENAI_API_KEY"]

st.title("‚öñÔ∏è JurisClear AI")
st.markdown("### –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞—É–¥–∏—Ç –¥–æ–≥–æ–≤–æ—Ä–æ–≤")
st.write("---")

# –°–µ—Ç–∫–∞ —Ç–∞—Ä–∏—Ñ–æ–≤ (–í–∏–∑—É–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å)
st.subheader("–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω:")
col_easy, col_pro = st.columns(2)

with col_easy:
    st.info("#### üìÑ –†–∞–∑–æ–≤–æ")
    st.write("–ê–Ω–∞–ª–∏–∑ –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞")
    st.write("## $9")
    if st.button("–í—ã–±—Ä–∞—Ç—å –†–∞–∑–æ–≤–æ", key="buy_one"):
        st.write("üîó –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –æ–ø–ª–∞—Ç—É $9...")

with col_pro:
    st.success("#### üëë –ü–æ–¥–ø–∏—Å–∫–∞ Pro")
    st.write("–ë–µ–∑–ª–∏–º–∏—Ç –Ω–∞ –º–µ—Å—è—Ü")
    st.write("## $29")
    if st.button("–í—ã–±—Ä–∞—Ç—å Pro", key="buy_sub"):
        st.write("üîó –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –æ–ø–ª–∞—Ç—É $29...")

st.write("---")

# –ë–ª–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞
uploaded_file = st.file_uploader("–ó–∞–≥—Ä—É–∑–∏—Ç–µ PDF –¥–æ–≥–æ–≤–æ—Ä –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞", type="pdf")

if uploaded_file is not None:
    if not user_api_key:
        st.warning("‚ö†Ô∏è –°–∏—Å—Ç–µ–º–∞ –æ–∂–∏–¥–∞–µ—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∫–ª—é—á–∞ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º.")
    else:
        if st.button("üîç –ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —ç–∫—Å–ø—Ä–µ—Å—Å-–∞–Ω–∞–ª–∏–∑"):
            # –ö–æ–¥ —á—Ç–µ–Ω–∏—è PDF –∏ –∑–∞–ø—Ä–æ—Å–∞ –∫ –ò–ò...
            st.toast("–î–æ–∫—É–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–µ–Ω! –ù–∞—á–∏–Ω–∞—é –∞–Ω–∞–ª–∏–∑...")
            # –¢—É—Ç –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –ø–æ–∫–∞–∑–∞ —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç–∏ –æ—Ç—á–µ—Ç–∞ (–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è —á–∞—Å—Ç—å)
            st.write("#### üõ°Ô∏è –û–±—â–µ–µ —Ä–µ–∑—é–º–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞:")
            st.write("–î–æ–∫—É–º–µ–Ω—Ç –ø—Ä–æ—á–∏—Ç–∞–Ω. –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¥–æ–≥–æ–≤–æ—Ä –∞—Ä–µ–Ω–¥—ã. –ù–∏–∂–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —Ä–∏—Å–∫–∞–º.")
            
            # –ò–º–∏—Ç–∞—Ü–∏—è –ø–ª–∞—Ç–Ω–æ–≥–æ –±–∞—Ä—å–µ—Ä–∞
            st.error("üîí –ë–ª–æ–∫ '–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏' –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–ø–ª–∞—Ç–∏—Ç–µ —Ä–∞–∑–æ–≤—ã–π –¥–æ—Å—Ç—É–ø –∏–ª–∏ –ø–æ–¥–ø–∏—Å–∫—É –≤—ã—à–µ.")

st.divider()
st.caption("JurisClear AI | –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –±–∞–∑–µ GPT-4o | –ê—Ä–º–µ–Ω–∏—è, 2026")
